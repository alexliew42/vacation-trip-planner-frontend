/* eslint-disable react/no-unescaped-entities */
import axios from "axios";
import { useState } from "react";
import "./Login.css"

const jwt = localStorage.getItem("jwt");
if (jwt) {
  axios.defaults.headers.common["Authorization"] = `Bearer ${jwt}`;
}

export function Login() {
  const [errors, setErrors] = useState([]);

  const handleSubmit = (event) => {
    event.preventDefault();
    setErrors([]);
    const params = new FormData(event.target);
    axios
      .post("http://localhost:3000/sessions.json", params)
      .then((response) => {
        console.log(response.data);
        axios.defaults.headers.common["Authorization"] = "Bearer " + response.data.jwt;
        localStorage.setItem("jwt", response.data.jwt);
        event.target.reset();
        window.location.href = "/"; // Change this to hide a modal, redirect to a specific page, etc.
      })
      .catch((error) => {
        console.log(error.response);
        setErrors(["Invalid email or password"]);
      });
  };

  return (
    <div className="wrapper2">
      <div className="image-side">
        <img className="image-login" src="data:image/jpeg;base64,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" />
      </div>
      <div className="login-side">
        <h1>Login</h1>
         <ul>
          {errors.map((error) => (
            <li key={error}>{error}</li>
          ))}
        </ul>
        <form onSubmit={handleSubmit}>
          <div className="inputs">
            <h3 className="labels-login">Email:</h3>
            <input name="email" type="email" placeholder="  Email" />
          </div>
         <h3 className="labels-login">Password:</h3>
          <div className="inputs">
            <input name="password" type="password" placeholder="  Password" />
          </div>
          <br/>
          <button className="button-login" type="submit">Login</button>
          <div className="text-login">
            <h3>Don't have an account?</h3>
            <a href="/signup">Register now</a>
          </div>
        </form>
      </div>
      
    </div>
  );
}
